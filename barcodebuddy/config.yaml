name: "Barcode Buddy (Python) (beta)"
version: "2.10.4-beta"
slug: "barcodebuddy-python"
description: "Python-based Barcode Scanner with Grocy integration"
arch:
  - armhf
  - armv7
  - aarch64
  - amd64
  - i386
startup: application
boot: auto
init: false

# USB-Scanner Zugriff - Multiple scanners supported!
devices:
  - "/dev/input:/dev/input:rwm"
  - "/dev/hidraw0:/dev/hidraw0:rwm"
  - "/dev/hidraw1:/dev/hidraw1:rwm"
  - "/dev/hidraw2:/dev/hidraw2:rwm"
  - "/dev/hidraw3:/dev/hidraw3:rwm"
  - "/dev/hidraw4:/dev/hidraw4:rwm"

udev: true
full_access: true
apparmor: false
host_ipc: true
host_pid: true
privileged:
  - SYS_ADMIN
  - SYS_RAWIO

ports:
  "5000/tcp": 5000

webui: "http://[HOST]:[PORT:5000]"
ingress: true
ingress_port: 5000
ingress_entry: "/"

options:
  # Grocy Integration
  grocy_url: ""
  grocy_api_key: ""

  # Barcode Configuration
  barcode_add: "BBUDDY-ADD"
  barcode_consume: "BBUDDY-CONSUME"
  barcode_quantity_prefix: "BBUDDY-Q-"

  # Product Databases (for unknown barcodes)
  enable_openfoodfacts: true
  enable_upcdatabase: true

  # Language
  language: "auto"

  # Debug Mode
  debug: false

schema:
  # Grocy Integration
  grocy_url: str
  grocy_api_key: str

  # Barcode Configuration
  barcode_add: str
  barcode_consume: str
  barcode_quantity_prefix: str

  # Product Databases
  enable_openfoodfacts: bool
  enable_upcdatabase: bool

  # Language
  language: list(auto|en|de|fr|es)

  # Debug Mode
  debug: bool
